# volatile关键字作用及原理
## volatile 作用
当访问共享变量的多个线程运行在多个CPU上时，可能会出现可见性问题。`synchronized`关键字和`lock`可以解决这个问题，但是会阻塞线程，降低性能，所及Java给出了更轻量级的关键字`volatile`，不会阻塞线程。volatile有两个作用：
1. 保证共享变量的可见性
2. 防止指令重排序

## 并发编程的三大特性
**原子性**、**可见性**、**有序性**

### 原子性
要么全做，要么全不做。`Java`中的原子操作包括：
1. 除`long`和`double`之外的基本类型的赋值操作
2. 所有引用`reference`的赋值操作
3. `java.concurrent.Atomic.*`包中所有类的一切操作。`long`和`double`因为在32位操作系统上，会被分成两部分更新，所以不是原子操作。自加操作（`i++`）不是原子操作，因为它是`读取i的值赋值给局部变量tmp`，`tmp+1`，`把结果赋值给i`，三个原子操作的集合。

### 可见性
> 所有线程都能看到共享内存的最新状态，多个线程访问同一个变量时，变量被一个线程修改后，能被其他线程看到。及多个线程访问同一变量时，看到的变量值是一致的。

### 有序性
